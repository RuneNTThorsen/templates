%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%               Videnskabsteori             %%
%%                                           %%
%%                  Preamble                 %%
%%                                           %%
%%  Original preamble af:                    %%
%%     Jakob Rørsted Mosumgaard              %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Core
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Essentials
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[final]{microtype}

% Language
\usepackage{babel}

% Fonts
% Her er masser af forskellige fonte: http://www.tug.dk/FontCatalogue/
% Hvis der ikke er brug for math-support, er der mange flere valgmuligheder!
% \usepackage{kpfonts}
% \usepackage{newpxtext,newpxmath}

% Mit fontvalg: Linux Libertine + Biolinum  ...   mmmmnnn, nice!
\usepackage{libertine}
\usepackage{libertinust1math}

% Teletype der faktisk er pæn
\usepackage[scaled=.95]{newtxtt}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Page 'n' stuff
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Line spacing. Please don't..... Unless you are forced to...
% \renewcommand{\baselinestretch}{1.5}

% Page set-up. Easy to tweak margins
\setlrmarginsandblock{4cm}{*}{1} % Højre-venstre-marginer
\setulmarginsandblock{*}{3.5cm}{1} % Top-bund-marginer
\checkandfixthelayout[nearest] % Pænt

% Basic pagestyle
\makeoddfoot{plain}{}{\sffamily\small\thepage \ / \thelastpage}{}

% Section headings (without serifs -- easy to change)
\setsecheadstyle{\large\bfseries\sffamily\raggedright}
\setsubsecheadstyle{\normalsize\bfseries\sffamily\raggedright}

% Chapter headings (sans serifas above)
\renewcommand*{\chaptitlefont}{\Large\sffamily\bfseries\raggedright}
\renewcommand*{\chapnumfont}{\chaptitlefont}    % To harmonise the font sizes
\renewcommand*{\chapnamefont}{\chaptitlefont}   % idem

% Title (sans serif as above)
\usepackage{titling}
\pretitle{\begin{center}\sffamily\LARGE}
\posttitle{\end{center}}
\preauthor{\begin{center}\sffamily\large}
\postauthor{\end{center}}
\predate{\begin{center}\sffamily}
\postdate{\end{center}}
\setlength{\droptitle}{-5em}

% Magic  --> If only one page: No header or footer
\AtEndDocument{\ifnum\value{page} = 1\thispagestyle{empty}\fi}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Figures and floats
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Include graphics
\usepackage{graphicx}

% Width of caption
\captionwidth{.9\linewidth}
\changecaptionwidth

% Trick to automatically end captions with a period
\captiontitlefinal{.}

% Allow subfloats in figure environment
\newsubfloat{figure}

% Cool tables with footnotes
\usepackage{threeparttable, etoolbox}
\appto\TPTnoteSettings{\footnotesize}  % Requires etoolbox

% Pretty colors
\usepackage{xcolor}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Science
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Math
\usepackage{amsmath,amssymb}
\usepackage{mathtools}

% Units
\usepackage{siunitx}
\sisetup{separate-uncertainty=true}
\DeclareSIUnit\au{AU}
\DeclareSIUnit\year{yr}
\DeclareSIUnit\erg{erg}
\DeclareSIUnit\msun{M_{\odot}}
\DeclareSIUnit\lsun{L_{\odot}}

% Delimeters
\DeclarePairedDelimiter\abs{\lvert}{\rvert}
\DeclarePairedDelimiter\norm{\langle}{\rangle}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% References 'n' stuff
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Smart quotations
\usepackage{csquotes}

% URL's
\usepackage{url}

% Nice itemizations
\usepackage{enumitem}

% Activate firmlists (less space) everywhere. Comment-out if desired.
\firmlists

% Debugging
\usepackage[margin,draft]{fixme} \fxusetheme{color}

% Smart references (I usually don't use hyperref, but it can be included)
\usepackage{varioref}
% \usepackage{hyperref}
\usepackage{cleveref}

% Format of date
\usepackage[useregional]{datetime2}
\DTMlangsetup[en-GB]{ord=omit}

% Vi kan godt lide latinsk vrøvl...
\usepackage{lipsum}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Macros
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Nice spacing in macros
\usepackage{xspace}

% Small division
\newcommand\starbreak{\medskip\fancybreak{$*$\qquad$*$\qquad$*$}\medskip}

% Seperation in equation
\newcommand\eqsep{\ensuremath{\quad , \quad}}

% Name
\newcommand\numpy{NumPy\xspace}
\newcommand\scipy{SciPy\xspace}
\newcommand\kepler{\textsl{Kepler}\xspace}

% Diff
\newcommand\diff[2]{\frac{\text{d}#1}{\text{d}#2}}
\newcommand\pdiff[2]{\frac{\partial #1}{\partial #2}}

% More lazy stuff
\newcommand\parname[2]{\left(#1\right)_{\text{#2}}}

% Vectors (we are doing physics!)
\renewcommand{\vec}[1]{\ensuremath{\boldsymbol{#1}}\xspace}

% Nice subscript
\newcommand\var[2]{\ensuremath{#1_{\textup{#2}}\,}\xspace}
%%%%%%%%%%%%%%
%% The end! %%
%%%%%%%%%%%%%%